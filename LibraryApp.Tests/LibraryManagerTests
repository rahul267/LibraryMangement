using Xunit;
using LibraryApp;

namespace LibraryApp.Tests
{
    public class LibraryManagerTests
    {
        private readonly LibraryManager _libraryManager = new LibraryManager();

        [Fact]
        public void AddBook_ReturnsTrue_WhenNewBookAdded()
        {
            var book = new Book("Sample Book Title", "Sample Author");
            var result = _libraryManager.AddBook(book);
            Assert.True(result);
        }
        [Fact]
public void RemoveBook_ReturnsTrue_WhenExistingBookRemoved()
{
    var book = new Book("Sample Book Title", "Sample Author");
    _libraryManager.AddBook(book);
    var result = _libraryManager.RemoveBook(book);
    Assert.True(result);
}
[Fact]
public void AddBook_ReturnsFalse_WhenAddingNullBook()
{
    Book nullBook = null;
    var result = _libraryManager.AddBook(nullBook);
    Assert.False(result);
}
[Fact]
public void FindBook_ReturnsBook_WhenBookExists()
{
    var book = new Book("Existing Book Title", "Existing Author");
    _libraryManager.AddBook(book);
    var foundBook = _libraryManager.FindBook("Existing Book Title");
    Assert.Equal(book, foundBook);
}
[Fact]
public void FindBook_ReturnsNull_WhenBookDoesNotExist()
{
    var result = _libraryManager.FindBook("Nonexistent Book Title");
    Assert.Null(result);
}
// Add additional tests following this pattern

[Fact]
public void AddBook_ReturnsFalse_WhenDuplicateBookAdded()
{
    var book = new Book("Sample Book Title", "Sample Author");
    _libraryManager.AddBook(book);
    var result = _libraryManager.AddBook(book);
    Assert.False(result);
}

[Fact]
public void RemoveBook_ReturnsFalse_WhenBookDoesNotExist()
{
    var book = new Book("Nonexistent Book Title", "Nonexistent Author");
    var result = _libraryManager.RemoveBook(book);
    Assert.False(result);
}

[Fact]
public void FindBook_ReturnsBooks_WhenPartialTitleMatch()
{
    var book1 = new Book("Harry Potter and the Sorcerer's Stone", "J.K. Rowling");
    var book2 = new Book("Harry Potter and the Chamber of Secrets", "J.K. Rowling");
    _libraryManager.AddBook(book1);
    _libraryManager.AddBook(book2);
    var foundBooks = _libraryManager.FindBooksByPartialTitle("Harry Potter");
    Assert.Contains(book1, foundBooks);
    Assert.Contains(book2, foundBooks);
}

[Fact]
public void AddBook_ThrowsArgumentNullException_WhenNullBookAdded()
{
    Assert.Throws<ArgumentNullException>(() => _libraryManager.AddBook(null));
}
    }
}